{% extends 'base.html' %} {% block content %}
<h1>Test Results</h1>

<!-- Placeholder -->
<div id="placeholder">
  <div class="d-flex justify-content-center">
    <div
      class="spinner-border text-primary"
      style="width: 10rem; height: 10rem"
      role="status"
    >
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>

<!-- Actual table (hidden by default) -->
<table id="actualTable" class="table" style="display: none">
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Total Entries</th>
      <th>Test Endpoint</th>
    </tr>
  </thead>
  <tbody>
    {% for endpoint, total_entries in results.items() %}
    <tr>
      <td>{{ endpoint }}</td>
      <td>{{ total_entries }}</td>
      <td>
        <a
          class="btn btn-primary"
          {% if endpoint == 'MedicationKnowledge' %}
            href="{{ url_for('drugformulary.medicationknowledge_required', base_url=base_url) }}"
          {% elif endpoint == 'List' %}
            href="{{ url_for('drugformulary.list_required', base_url=base_url) }}"
          {% elif endpoint == 'HealthcareService' %}
            href="{{ url_for('provdir.healthcareservice_required', base_url=base_url) }}"
          {% elif endpoint == 'InsurancePlan' %}
            href="{{ url_for('provdir.insuranceplan_required', base_url=base_url) }}"
          {% elif endpoint == 'Location' %}
            href="{{ url_for('provdir.location_required', base_url=base_url) }}"
          {% elif endpoint == 'Organization' %}
            href="{{ url_for('provdir.organization_required', base_url=base_url) }}"
          {% elif endpoint == 'OrganizationAffiliation' %}
            href="{{ url_for('provdir.organizationaffiliation_required', base_url=base_url) }}"
          {% elif endpoint == 'Practitioner' %}
            href="{{ url_for('provdir.practitioner_required', base_url=base_url) }}"
          {% elif endpoint == 'PractitionerRole' %}
            href="{{ url_for('provdir.practitionerrole_required', base_url=base_url) }}"
          {% endif %}
          >Test Required Data</a
        >
        <a
          class="btn btn-success"
          {% if endpoint == 'Practitioner' %}
            href="{{ url_for('provdir.practitioner_test', base_url=base_url) }}"
          {% elif endpoint == 'Organization' %}
            href="{{ url_for('provdir.organization_test', base_url=base_url) }}"
          {% elif endpoint == 'OrganizationAffiliation' %}
            href="{{ url_for('provdir.organizationaffiliation_test', base_url=base_url) }}"
          {% elif endpoint == 'Location' %}
            href="{{ url_for('provdir.location_test', base_url=base_url) }}"
          {% elif endpoint == 'HealthcareService' %}
            href="{{ url_for('provdir.healthcareservice_test', base_url=base_url) }}"
          {% elif endpoint == 'Endpoint' %}
            href="#"
          {% elif endpoint == 'PractitionerRole' %}
            href="{{ url_for('provdir.practitionerrole_test', base_url=base_url) }}"
          {% elif endpoint == 'InsurancePlan' %}
            href="{{ url_for('provdir.insuranceplan_test', base_url=base_url) }}"
          {% elif endpoint == 'List' %}
            href="{{ url_for('drugformulary.list_test', base_url=base_url) }}"
          {% elif endpoint == 'MedicationKnowledge' %}
            href="{{ url_for('drugformulary.medicationknowledge_test', base_url=base_url) }}"
          {% endif %}
          >Test Search Parameters</a
        >
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  window.addEventListener("load", function () {
    document.getElementById("placeholder").style.display = "none";
    document.getElementById("actualTable").style.display = "table";
  });
</script>
{% endblock content %}
