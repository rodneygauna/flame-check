{% extends 'base.html' %} {% block content %}
<h1>Test Results</h1>

<!-- Placeholder -->
<div id="placeholder">
  <div class="d-flex justify-content-center">
    <div
      class="spinner-border text-primary"
      style="width: 10rem; height: 10rem"
      role="status"
    >
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>

<!-- Required Results Table -->
<table class="table table-striped" id="actualTable" style="display: none">
  <thead>
    <tr>
      <!-- Loop through the entries and find the keys in the JSON. Each key will be the table header -->
      {% for key in results[0] %}
      <th scope="col">{{ key }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    <!-- Loop through the entries and find the values in the JSON. Each value will be the table data -->
    {% for entry in results %}
    <tr>
      {% for key, value in entry.items() %}
      <td>{{ value }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  window.addEventListener("load", function () {
    document.getElementById("placeholder").style.display = "none";
    document.getElementById("actualTable").style.display = "table";
  });
</script>
{% endblock content %}
